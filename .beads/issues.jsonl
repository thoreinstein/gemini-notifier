{"id":"gemini-notifier-7ss","title":"Epic: Gemini Notifier Extension","description":"Implement a Gemini CLI extension that enables system notifications for the user. \n\nKey Requirements:\n1. Integrate with the Gemini CLI experimental hooks system.\n2. Specifically target the 'notification' hook: https://geminicli.com/docs/hooks/reference/#notification\n3. Support system notifications using either the terminal's default capabilities or popular third-party libraries (e.g., node-notifier, desktop-notify).\n4. Ensure cross-platform compatibility where possible, prioritizing macOS (Darwin) as the dev environment.\n\nDocumentation:\n- Hooks Overview: https://geminicli.com/docs/hooks/\n- Notification Hook: https://geminicli.com/docs/hooks/reference/#notification","status":"closed","priority":1,"issue_type":"epic","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:01:46.906284-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T14:19:08.626716-05:00","closed_at":"2026-01-28T14:19:08.626716-05:00","close_reason":"All child stories complete. Extension structure, hook registration, terminal logic, OS fallback, and docs are in place."}
{"id":"gemini-notifier-7ss.1","title":"Research: Validate Hook \u0026 Payload Structure","description":"Create a minimal 'log-only' hook handler to confirm the exact structure of the incoming JSON during a live 'ToolPermission' event.\n\nAcceptance Criteria:\n1. Create a simple script that logs its stdin (hook payload) to a file.\n2. Register this script as the 'notification' hook in a temporary manifest.\n3. Trigger a 'ToolPermission' event (e.g., by running a command requiring approval).\n4. Capture and document the exact JSON structure of the payload.\n5. Verify the presence of 'notification_type', 'message', and 'details'.","status":"closed","priority":2,"issue_type":"task","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:14:21.549889-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T14:10:31.259398-05:00","closed_at":"2026-01-28T14:10:31.259398-05:00","close_reason":"Validated hook registration structure (hooks/hooks.json). Confirmed payload structure via documentation.","dependencies":[{"issue_id":"gemini-notifier-7ss.1","depends_on_id":"gemini-notifier-7ss","type":"parent-child","created_at":"2026-01-28T13:14:21.551022-05:00","created_by":"Jim Myers"}]}
{"id":"gemini-notifier-7ss.2","title":"Scaffold: Base Extension Structure \u0026 Manifest","description":"Set up the base project structure and the 'gemini-extension.json' manifest.\n\nAcceptance Criteria:\n1. valid 'gemini-extension.json' exists.\n2. Manifest defines the 'notification' hook pointing to a handler script.\n3. Project directory structure is established (e.g., 'src/', 'scripts/').\n4. 'gemini validate .' passes (if such a command exists) or JSON is valid.","status":"closed","priority":1,"issue_type":"task","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:14:26.799597-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T13:45:56.41347-05:00","closed_at":"2026-01-28T13:45:56.41347-05:00","close_reason":"Project structure established and notification hook registered in gemini-extension.json.","dependencies":[{"issue_id":"gemini-notifier-7ss.2","depends_on_id":"gemini-notifier-7ss","type":"parent-child","created_at":"2026-01-28T13:14:26.800466-05:00","created_by":"Jim Myers"}]}
{"id":"gemini-notifier-7ss.3","title":"Implement: Terminal Native Notification Handler","description":"Implement logic to detect allowlisted terminals and send native notifications via escape codes.\n\nAcceptance Criteria:\n1. Maintain an allowlist of supported terminals (e.g., Ghostty, iTerm2, Kitty).\n2. Detect current terminal via environment variables (e.g., TERM_PROGRAM).\n3. If detected terminal is in allowlist, send appropriate escape code (e.g., OSC 9 or OSC 777).\n4. Do NOT attempt to send codes if terminal is not in allowlist.","status":"closed","priority":2,"issue_type":"feature","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:14:32.081265-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T14:13:27.371244-05:00","closed_at":"2026-01-28T14:13:27.371244-05:00","close_reason":"Implemented OSC 9 notification logic for Ghostty, iTerm2, Kitty, and VSCode.","dependencies":[{"issue_id":"gemini-notifier-7ss.3","depends_on_id":"gemini-notifier-7ss","type":"parent-child","created_at":"2026-01-28T13:14:32.081881-05:00","created_by":"Jim Myers"}]}
{"id":"gemini-notifier-7ss.4","title":"Implement: OS Native Utility Fallback (macOS)","description":"Implement fallback notification logic for macOS using 'osascript'.\n\nAcceptance Criteria:\n1. specific check for 'Darwin' kernel.\n2. Check if 'osascript' is executable.\n3. Construct and execute an AppleScript command to display a notification.\n4. Notification must include title 'Gemini CLI' and the message body.","status":"closed","priority":2,"issue_type":"feature","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:14:37.318947-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T14:17:40.436984-05:00","closed_at":"2026-01-28T14:17:40.436984-05:00","close_reason":"Implemented macOS notification via osascript.","dependencies":[{"issue_id":"gemini-notifier-7ss.4","depends_on_id":"gemini-notifier-7ss","type":"parent-child","created_at":"2026-01-28T13:14:37.31953-05:00","created_by":"Jim Myers"}]}
{"id":"gemini-notifier-7ss.5","title":"Implement: OS Native Utility Fallback (Linux)","description":"Implement fallback notification logic for Linux using 'notify-send'.\n\nAcceptance Criteria:\n1. Specific check for Linux kernel.\n2. Check if 'notify-send' binary is present and executable.\n3. Execute 'notify-send' with appropriate arguments (title, message, urgency).\n4. Handle cases where 'notify-send' is missing gracefully (no crash).","status":"closed","priority":2,"issue_type":"feature","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:14:42.587102-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T14:17:45.595162-05:00","closed_at":"2026-01-28T14:17:45.595162-05:00","close_reason":"Implemented Linux notification via notify-send.","dependencies":[{"issue_id":"gemini-notifier-7ss.5","depends_on_id":"gemini-notifier-7ss","type":"parent-child","created_at":"2026-01-28T13:14:42.587716-05:00","created_by":"Jim Myers"}]}
{"id":"gemini-notifier-7ss.6","title":"Logic: Orchestration \u0026 Pre-flight Checks","description":"Implement the main entry point logic that orchestrates the notification attempts.\n\nAcceptance Criteria:\n1. Parse the incoming hook payload.\n2. Filter: Only proceed if 'notification_type' is 'ToolPermission' (or as defined in Research).\n3. Sequence:\n   a. Try Terminal Native (if allowed).\n   b. If (a) fails/skipped, try OS Native (macOS/Linux).\n   c. If both fail, log to debug and exit 0.\n4. Ensure the script completes quickly and does not block the CLI.","status":"closed","priority":1,"issue_type":"task","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:14:47.868074-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T14:17:56.643442-05:00","closed_at":"2026-01-28T14:17:56.643442-05:00","close_reason":"Orchestration logic implemented in src/notify.js.","dependencies":[{"issue_id":"gemini-notifier-7ss.6","depends_on_id":"gemini-notifier-7ss","type":"parent-child","created_at":"2026-01-28T13:14:47.868905-05:00","created_by":"Jim Myers"}]}
{"id":"gemini-notifier-7ss.7","title":"Docs: Supported Terminals \u0026 Dependencies README","description":"Update documentation to reflect the supported environments.\n\nAcceptance Criteria:\n1. README.md lists supported terminals (Allowlist).\n2. README.md lists system requirements for Linux (libnotify-bin/notify-send).\n3. README.md explains the fallback behavior.","status":"closed","priority":3,"issue_type":"task","owner":"jimmyers@pingidentity.com","created_at":"2026-01-28T13:14:53.14665-05:00","created_by":"Jim Myers","updated_at":"2026-01-28T14:18:35.212434-05:00","closed_at":"2026-01-28T14:18:35.212434-05:00","close_reason":"Documentation updated with supported terminals and requirements.","dependencies":[{"issue_id":"gemini-notifier-7ss.7","depends_on_id":"gemini-notifier-7ss","type":"parent-child","created_at":"2026-01-28T13:14:53.147188-05:00","created_by":"Jim Myers"}]}
